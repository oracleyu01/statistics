# Z 검정 이론

## 1. 개요
Z 검정은 모집단이 정규분포를 따르고 모집단의 분산(또는 표준편차)이 **알려진 경우**에 사용하는 가설검정 방법입니다.  
표본 평균과 가정된 모집단 평균 간의 차이를 평가합니다.

---

## 2. 가설
- **귀무가설 (\(H_0\))**: 모집단의 평균이 가정된 값과 같다.  
  \[
  H_0: \mu = \mu_0
  \]
- **대립가설 (\(H_1\))**: 모집단의 평균이 가정된 값과 다르다.  
  \[
  H_1: \mu \neq \mu_0 \quad \text{(양측 검정)}
  \]

---

## 3. 검정 통계량
검정 통계량 \(Z\)는 다음과 같이 계산됩니다:  
\[
Z = \frac{\bar{X} - \mu_0}{\sigma / \sqrt{n}}
\]
- \(\bar{X}\): 표본 평균  
- \(\mu_0\): 귀무가설 하의 모집단 평균  
- \(\sigma\): 모집단 표준편차 (알려진 값)  
- \(n\): 표본 크기  

---

## 4. 결정 기준
유의수준 (\(\alpha\))가 주어졌을 때:
1. **양측 검정**: Z 통계량의 절댓값이 임계값 \(Z_{\alpha/2}\)보다 크면 귀무가설을 기각합니다.
2. **p-값**: p-값이 유의수준 (\(\alpha\))보다 작으면 귀무가설을 기각합니다.

---

## 5. 예제
### 문제:
한 대학의 수학 시험 점수가 정규분포를 따르며 분산이 \(100\)으로 알려져 있습니다.  
이번 학기에 \(n = 50\)명의 학생을 무작위로 추출했을 때, 이들의 평균 점수는 \(75\)점이었습니다.  
모집단 평균이 \(70\)이라고 주장할 수 있을까요? 유의수준 \(0.05\)에서 검정을 수행하세요.

---

### 주어진 조건:
- 모집단 표준편차 (\(\sigma\)) = \(10\)  
- 표본 평균 (\(\bar{X}\)) = \(75\)  
- 모집단 평균 (\(\mu_0\)) = \(70\)  
- 표본 크기 (\(n\)) = \(50\)  
- 유의수준 (\(\alpha\)) = \(0.05\)  

---

### 검정 절차:
1. **귀무가설 (\(H_0\))**: \(\mu = 70\)  
2. **대립가설 (\(H_1\))**: \(\mu \neq 70\)  
3. **Z 통계량 계산**:  
   \[
   Z = \frac{\bar{X} - \mu_0}{\sigma / \sqrt{n}} = \frac{75 - 70}{10 / \sqrt{50}} = \frac{5}{1.414} \approx 3.536
   \]
4. **임계값**: \(Z_{0.025} = 1.96\)  
5. **Z 통계량** \(|3.536|\) > \(1.96\) → 귀무가설 기각  
6. **결론**: 모집단 평균이 \(70\)이라고 주장할 수 없습니다.

---

## 6. R 코드

아래는 위 문제를 해결하기 위한 R 코드입니다:

```r
# 주어진 데이터
sigma <- 10         # 모집단 표준편차
mu0 <- 70           # 귀무가설 하의 모평균
x_bar <- 75         # 표본 평균
n <- 50             # 표본 크기
alpha <- 0.05       # 유의수준

# Z 통계량 계산
z_stat <- (x_bar - mu0) / (sigma / sqrt(n))

# 임계값 계산
z_critical <- qnorm(1 - alpha / 2) # 양측 검정이므로 alpha/2

# p-value 계산
p_value <- 2 * (1 - pnorm(abs(z_stat)))

# 결과 출력
cat("Z 통계량:", z_stat, "\n")
cat("임계값:", z_critical, "\n")
cat("p-value:", p_value, "\n")

# 결론
if (abs(z_stat) > z_critical) {
  cat("귀무가설 기각: 모평균이 70이라고 주장할 수 없습니다.\n")
} else {
  cat("귀무가설 채택: 모평균이 70이라고 주장할 수 있습니다.\n")
}
