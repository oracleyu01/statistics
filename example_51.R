#🎯 예제47번. Z 검정 이론

# 그림 :
# https://github.com/oracleyu01/statistics/blob/main/가설검정그림.png 

# ➡️ 1. 개요
# 
# Z 검정은 모집단이 정규분포를 따르고 모집단의 분산(또는 표준편차)이 
# 알려진 경우에 사용하는 가설검정 방법입니다.
# 표본 평균과 가정된 모집단 평균 간의 차이를 평가합니다.
# 
# ➡️  2. 가설
# 
# 귀무가설 (H₀): 모집단의 평균이 가정된 값과 같다.
# 
# H₀: μ = μ₀
# 
# 대립가설 (H₁): 모집단의 평균이 가정된 값과 다르다.
# 
# H₁: μ ≠ μ₀ (양측 검정)
# 
# ➡️ 3. 검정 통계량
# 
# 검정 통계량 Z는 다음과 같이 계산됩니다:
# 
# Z = (X̄ - μ₀) / (σ / √n)
# 
# X̄: 표본 평균
# μ₀: 귀무가설 하의 모집단 평균
# σ: 모집단 표준편차 (알려진 값)
# n: 표본 크기
# 
# ➡️ 4. 결정 기준
# 
# 유의수준 (α)이 주어졌을 때:
# 
# 양측 검정: Z 통계량의 절댓값이 임계값 Zα/2보다 크면 귀무가설을 
# 기각합니다.
# 
# p-값: p-값이 유의수준 α보다 작으면 귀무가설을 기각합니다.
# 
# ➡️ 5. 예제
# 
# 😊 문제:
#   
# 한 대학의 수학 시험 점수가 정규분포를 따르며 분산이 100으로 알려져 
# 있습니다.
# 이번 학기에 n = 50명의 학생을 무작위로 추출했을 때, 
# 이들의 평균 점수는 75점이었습니다.
# 모집단 평균이 70이라고 주장할 수 있을까요? 
# 유의수준 0.05에서 검정을 수행하세요.
# 
# 주어진 조건:
#   
# 모집단 표준편차 (σ) = 10
# 표본 평균 (X̄) = 75
# 모집단 평균 (μ₀) = 70
# 표본 크기 (n) = 50
# 유의수준 (α) = 0.05
# 
# 검정 절차:
#   
# 귀무가설 (H₀): μ = 70
# 대립가설 (H₁): μ ≠ 70

# 답:

# Z 통계량 계산:
# Z = (X̄ - μ₀) / (σ / √n)
# Z = (75 - 70) / (10 / √50)
# Z = 5 / 1.414 ≈ 3.536
# 임계값: Z₀.₀₂₅ = 1.96
# Z 통계량 |3.536| > 1.96 → 귀무가설 기각
# 
# 결론: 모집단 평균이 70이라고 주장할 수 없습니다.

# 주어진 데이터
sigma <- 10         # 모집단 표준편차
mu0 <- 70           # 귀무가설 하의 모평균
x_bar <- 75         # 표본 평균
n <- 50             # 표본 크기
alpha <- 0.05       # 유의수준

# Z 통계량 계산
z_stat <- (x_bar - mu0) / (sigma / sqrt(n))

# 임계값 계산
z_critical <- qnorm(1 - alpha / 2) # 양측 검정이므로 alpha/2

# p-value 계산
p_value <- 2 * (1 - pnorm(abs(z_stat)))

# 결과 출력
cat("Z 통계량:", z_stat, "\n")
cat("임계값:", z_critical, "\n")
cat("p-value:", p_value, "\n")

# 결론
if (abs(z_stat) > z_critical) {
  cat("귀무가설 기각: 모평균이 70이라고 주장할 수 없습니다.\n")
} else {
  cat("귀무가설 채택: 모평균이 70이라고 주장할 수 있습니다.\n")
}



## 😊 문제1:
한 회사의 고객 서비스 평균 응답 시간이 15분으로 알려져 있습니다.  
새로운 서비스 개선 정책을 도입한 후, 무작위로 40명의 고객을 대상으로 
응답 시간을 조사한 결과, 평균 응답 시간이 14분으로 측정되었습니다.  
이 서비스 개선 정책이 응답 시간을 유의미하게 단축시켰다고 주장할 수 
있을까요?  
  
유의수준 0.05에서 검정을 수행하세요.

---
  
## ➡️ 주어진 조건:
- 모집단 표준편차 (σ) = 5  
- 표본 평균 (X̄) = 14  
- 모집단 평균 (μ₀) = 15  
- 표본 크기 (n) = 40  
- 유의수준 (α) = 0.05  

---
  
## ➡️ 검정 절차:
1. 귀무가설 (H₀): μ ≥ 15  
2. 대립가설 (H₁): μ < 15 (단측 검정)  
3. Z 통계량 계산:  
  Z = (X̄ - μ₀) / (σ / √n)  
4. 임계값: Z₀.₀₅ = -1.645  
5. 결과: Z 통계량과 임계값을 비교하여 귀무가설을 기각할지 결정하세요.  
6. 결론: 서비스 개선 정책이 응답 시간을 단축시켰다고 주장할 수 있는지 
         결론을 내리세요.


  
  
  
  
