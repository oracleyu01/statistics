### 🎯 예제 21: R에서의 일반 함수 💡

---

#### **😊 일반 함수 비교: SQL vs R**

| 번호 | SQL    | R          |
|----|--------|------------|
| 1  | `NVL`  | `ifelse`   |
| 2  | `DECODE` | `ifelse`  |
| 3  | `CASE`  | `ifelse`   |

---

#### **😊 기본 예제**

✅ **예제**: 이름과 커미션을 출력하는데, 커미션이 `NULL`인 사원들은 `0`으로 출력하시오.

✅ **SQL 코드**
```sql
SELECT ename, NVL(comm, 0)
FROM emp;
```

✅ **R 코드**
```r

```

✅ **설명**: `ifelse(조건, 바꿀값, 기본값)`을 사용합니다.
- `is.na(emp$comm)`은 커미션이 `NULL`이면 `TRUE`, 아니면 `FALSE`를 반환합니다.
- 조건이 `TRUE`면 바꿀값을 출력하고, `FALSE`면 기본값을 출력합니다.

---

#### **😊 실습 문제**

**문제 1**: `titanic2.csv` 파일을 불러와 `tat` 데이터 프레임을 생성하시오.
```r

```

**문제 2**: `age2`라는 컬럼(변수)을 생성하는데, `tat`의 `age` 컬럼을 기반으로 결측치는 `31`로 채워서 생성하시오.
```r

```

**문제 3**: 이름, 부서번호, 보너스를 출력하는데,
- 부서번호가 `10`이면 `5000`
- 부서번호가 `20`이면 `4000`
- 나머지 부서번호는 `0`을 출력하시오.

✅ **SQL 코드**
```sql
SELECT ename, deptno, DECODE(deptno, 10, 5000, 20, 4000, 0) AS bonus
FROM emp;
```

✅ **R 코드**
```r

```

**문제 4**: 이름, 월급, 등급을 출력하는데,
- 월급이 `3000 이상`이면 `A 등급`
- 월급이 `2000 이상 3000 미만`이면 `B 등급`
- 나머지는 `C 등급`을 출력하시오.

✅ **SQL 코드**
```sql
SELECT ename, sal,
    CASE 
        WHEN sal >= 3000 THEN 'A'
        WHEN sal >= 2000 THEN 'B'
        ELSE 'C'
    END AS grade
FROM emp;
```

✅ **R 코드**
```r

```

**문제 5**: `tat` 데이터 프레임에 `women_child` 파생 변수를 추가하는데,
- 성별이 `여자`이거나 나이가 `12 이하`이면 `1`
- 그렇지 않으면 `0`으로 값을 설정하시오.
```r

```
