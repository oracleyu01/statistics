

# π“ μ£Όμ„±λ¶„ λ¶„μ„ (PCA)

## π” 1. μ£Όμ„±λ¶„ λ¶„μ„(PCA)λ€?
κ³ μ°¨μ›μ λ°μ΄ν„°λ¥Ό λ‚®μ€ μ°¨μ›μ λ°μ΄ν„°λ΅ λ³€ν™ν•μ—¬, λ¨Έμ‹ λ¬λ‹, λ°μ΄ν„°λ§μ΄λ‹, ν†µκ³„ λ¶„μ„, λ…Έμ΄μ¦ μ κ±° λ“± λ‹¤μ–‘ν• λ¶„μ•Όμ—μ„ μ‚¬μ©λλ” ν†µκ³„μ΄λ΅ μ…λ‹λ‹¤.

## π¤” 2. μ™ μ¤‘μ”ν• κΉ?
λ°μ΄ν„°κ°€ κ°„λ‹¨ν•΄μ Έ μ΄ν•΄ν•κΈ° μ‰¬μ›μ§‘λ‹λ‹¤.

**μμ‹:** ν•™μƒλ“¤μ μ„±μ (κµ­μ–΄, μν•™, μμ–΄)μ—μ„ μ¤‘μ”ν• μ •λ³΄λ¥Ό μ‰½κ² μ°Ύμ„ μ μμµλ‹λ‹¤.

## π“ 3. μμ : ν•™μƒ μ„±μ  λ¶„μ„
- **PC1:** ν•™μƒλ“¤μ μ „λ°μ μΈ ν•™μ—… μ„±μ·¨λ„λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤. λ¨λ“  κ³Όλ©(κµ­μ–΄, μν•™, μμ–΄)μ—μ„ λ†’μ€ μ μλ¥Ό λ°›μ€ ν•™μƒλ“¤μ΄ λ†’μ€ PC1 μ μλ¥Ό κ°–μµλ‹λ‹¤.
- **PC2:** νΉμ • κ³Όλ©μ— λ€ν• μ„±μ·¨λ„λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μν•™μ—μ„ λ†’μ€ μ μλ¥Ό λ°›μ€ ν•™μƒλ“¤μ΄ λ†’μ€ PC2 μ μλ¥Ό κ°–μµλ‹λ‹¤.

**μ”μ•½:**
- **PC1:** μ „μ²΄ μ„±μ μ΄ λ†’μ€ ν•™μƒλ“¤.
- **PC2:** νΉμ • κ³Όλ©μ—μ„ λ‘λ“λ¬μ§€λ” ν•™μƒλ“¤.

PCAλ” ν•™μƒλ“¤μ μ„±μ  λ°μ΄ν„°μ—μ„ μ¤‘μ”ν• ν¨ν„΄μ„ μ°Ύμ•„λ‚΄μ–΄ ν•™μµ μ„±κ³Όλ¥Ό ν¨κ³Όμ μΌλ΅ λ¶„μ„ν•λ” λ° λ„μ›€μ„ μ¤λ‹λ‹¤.

---

## π“ PCA μ½”λ“ κµ¬ν„

### π“¦ ν•„μ”ν• ν¨ν‚¤μ§€ μ„¤μΉ λ° λ΅λ“
```{r}
install.packages("ggplot2")
install.packages("plotly")

library(ggplot2)
library(plotly)
```

### πΈ μ•„μ΄λ¦¬μ¤ λ°μ΄ν„°μ…‹μ„ μ‚¬μ©ν• PCA
```{r}
# λ°μ΄ν„° λ΅λ“
iris_data <- read.csv("c:\\data\\iris2.csv")

# μ£Όμ„±λ¶„ λ¶„μ„ μν–‰
pca_result <- prcomp(iris_data[, 1:4], scale. = TRUE)
```

### π”¬ PCA κ²°κ³Ό ν™•μΈ
```{r}
summary(pca_result)
```

### π“ μ£Όμ„±λ¶„ μ μ μ¶”μ¶
```{r}
pca_scores <- data.frame(pca_result$x)
pca_scores$Species <- iris_data$Species
```

### π–Ό 2μ°¨μ› μ‹κ°ν™”
```{r}
p <- ggplot(pca_scores, aes(x = PC1, y = PC2, color = Species)) +
  geom_point(size = 3) +
  labs(title = "PCA κ²°κ³Ό", x = "PC1", y = "PC2") +
  theme_minimal()

# plotlyλ¥Ό μ‚¬μ©ν• μΈν„°λ™ν‹°λΈ μ‹κ°ν™”
p_interactive <- ggplotly(p)

# μ‹κ°ν™” μ¶λ ¥
p_interactive
```

---

## π§ μ§λ¬Έ: PCA κ²°κ³Ό ν•΄μ„

### β“ 1. μ•„λ μ½”λ“μ κ²°κ³Ό μ«μκ°€ μλ―Έν•λ” κ²ƒμ€?
```{r}
pca_result
```
μ¶λ ¥ μμ‹:
```
Standard deviations (1, .., p=4):  
[1] 1.7061120 0.9598025 0.3838662 0.1435538
```
- **ν‘μ¤€νΈμ°¨ κ°’μ΄ ν΄μλ΅ λ°μ΄ν„°μ λ³€λ™μ„±μ΄ ν¬λ‹¤** β†’ μ²« λ²μ§Έ μ£Όμ„±λ¶„μ΄ κ°€μ¥ ν° λ³€λ™μ„ μ„¤λ…ν•¨.

### β“ 2. PC1, PC2, PC3μ μλ―Έλ”?
- **PC1:** μ›λ³Έ λ°μ΄ν„°μ—μ„ κ°€μ¥ λ§μ€ μ •λ³΄λ¥Ό λ‹΄κ³  μλ” λ°©ν–¥.
- **PC2:** PC1κ³Ό μ§κµν•λ” λ°©ν–¥μ—μ„ λ³€λ™μ„ μ„¤λ…ν•λ” μ§μ„ .
- **PC3:** PC1κ³Ό PC2μ™€ μ§κµν•λ” λ λ‹¤λ¥Έ λ°©ν–¥.

---

## π”¬ λ¬Έμ 159: μ λ°©μ•” λ°μ΄ν„° μ£Όμ„±λ¶„ λ¶„μ„

### π“¦ ν¨ν‚¤μ§€ λ΅λ“ λ° λ°μ΄ν„° λ΅λ“
```{r}
install.packages("ggplot2")
install.packages("plotly")

library(ggplot2)
library(plotly)

bc_data <- read.csv("c:\\data\\wisc_bc_data.csv")
bc_data$diagnosis <- as.factor(bc_data$diagnosis)
```

### π§ μ£Όμ„±λ¶„ λ¶„μ„ μν–‰
```{r}
pca_result <- prcomp(bc_data[, 3:32], scale. = TRUE)
pca_scores <- data.frame(pca_result$x)
pca_scores$diagnosis <- bc_data$diagnosis
```

### π“ 2μ°¨μ› μ‹κ°ν™”
```{r}
p <- ggplot(pca_scores, aes(x = PC1, y = PC2, color = diagnosis)) +
  geom_point(size = 3) +
  labs(title = "PCA κ²°κ³Ό", x = "PC1", y = "PC2") +
  theme_minimal()

# plotlyλ¥Ό μ‚¬μ©ν• μΈν„°λ™ν‹°λΈ μ‹κ°ν™”
p_interactive <- ggplotly(p)

# μ‹κ°ν™” μ¶λ ¥
p_interactive
