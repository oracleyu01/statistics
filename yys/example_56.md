# 예제56: 가설검정6 - 세 모집단 이상의 모평균 차이 검정
## - 일원배치 분산분석 (One-way ANOVA)

### 📊 가설검정의 유형
![가설검정의 유형](그림11.png)
![가설검정의 유형](table1.png)

## 1️⃣ 이론 설명

### ANOVA란?
- 세 개 이상의 모집단 평균을 비교하는 분석 방법
- 집단 간 분산과 집단 내 분산의 비율을 이용
- F분포를 따르는 검정통계량 사용

### 기본 가정
1. 독립성: 각 집단의 관측값은 서로 독립
2. 정규성: 각 집단은 정규분포를 따름
3. 등분산성: 모든 집단의 분산이 동일

# 📊 ANOVA(분산 분석, Analysis of Variance)

## 📌 ANOVA란?
ANOVA(Analysis of Variance, 분산 분석)는 **두 개 이상의 그룹 간 평균 차이를 검정**하는 통계적 기법이다.  
그룹 내 변동과 그룹 간 변동을 비교하여 평균 차이가 유의미한지 판단한다.

## 🔍 ANOVA의 유래
ANOVA는 영국의 통계학자 **로널드 피셔(Ronald A. Fisher)** 가 1918년에 개념을 제안하고,  
1925년 《Statistical Methods for Research Workers》에서 정식으로 소개하였다.  
처음에는 실험 설계와 농업 연구에서 활용되었으며, 이후 다양한 분야로 확장되었다.

## 🛠 ANOVA의 유형
### 1. 일원분산분석(One-Way ANOVA)
- 한 가지 **독립변수(요인, factor)** 가 여러 그룹으로 나누어져 있을 때 그룹 간 평균 차이를 검정
- **예시**: 서로 다른 3개 학급의 수학 성적 비교

### 2. 이원분산분석(Two-Way ANOVA)
- 두 개의 **독립변수** 가 있는 경우 각 독립변수와 **상호작용 효과** 를 분석
- **예시**: 교육 방법(온라인 vs 오프라인)과 성별(남 vs 여)이 성적에 미치는 영향 분석

### 3. 반복측정 분산분석(Repeated Measures ANOVA)
- 동일한 실험 대상에게 여러 번 측정을 수행하여 **시간에 따른 변화를 비교**
- **예시**: 한 집단의 혈압을 1개월 간격으로 3번 측정하여 변화 분석

## 📌 ANOVA의 기본 가정
1. **정규성(Normality)**  
   - 각 그룹의 데이터가 **정규 분포** 를 따라야 한다.  
2. **등분산성(Homogeneity of Variance, Homoscedasticity)**  
   - 그룹 간 **분산이 동일** 해야 한다.  
3. **독립성(Independence)**  
   - 각 샘플은 서로 **독립적** 이어야 한다.  

## 📊 ANOVA의 활용 사례
### ✅ 마케팅 및 소비자 연구
- 제품 패키지 디자인(A, B, C)이 **고객 만족도** 에 미치는 영향을 분석  

### ✅ 의학 및 임상 연구
- 서로 다른 **치료법(약물 A, B, C)** 이 환자의 혈압 감소 효과에 차이가 있는지 검정  

### ✅ 교육 연구
- 다양한 **교수법(전통 강의, 블렌디드 학습, 온라인 수업)** 이 학생 성취도에 미치는 영향 비교  

### ✅ 제조 및 품질 관리
- **3가지 제조 공정** 이 제품 결함률에 영향을 미치는지 분석  

## 🏆 결론
ANOVA는 **두 개 이상의 그룹 간 평균 차이를 비교**할 때 필수적인 통계 기법으로, 다양한 연구 분야에서 활용된다.  
분석 전 **정규성, 등분산성, 독립성** 가정을 확인해야 신뢰할 수 있는 결과를 도출할 수 있다.


## 2️⃣ 예제 풀이

### 📌 문제 상황
세 가지 다른 교수법(A, B, C)의 효과를 비교하기 위해 각 방법별로 15명의 학생을 무작위로 선정하여 시험을 실시했다. 
유의수준 5%에서 세 교수법 간에 차이가 있는지 검정하시오.

```
교수법 A: 75, 82, 78, 80, 85, 81, 82, 77, 79, 83, 81, 80, 77, 82, 84
교수법 B: 70, 75, 72, 74, 77, 75, 76, 73, 71, 76, 75, 73, 72, 74, 76
교수법 C: 85, 88, 82, 84, 90, 86, 87, 83, 85, 88, 86, 84, 83, 87, 89
```

### 풀이 과정

1. 가설 설정
```
H₀: μ₁ = μ₂ = μ₃ (세 교수법의 효과는 같다)
H₁: μᵢ ≠ μⱼ for some i,j (적어도 한 쌍의 교수법 간에 차이가 있다)
```

2. R코드로 분석
```r
# 데이터 준비
method_A <- c(75, 82, 78, 80, 85, 81, 82, 77, 79, 83, 81, 80, 77, 82, 84)
method_B <- c(70, 75, 72, 74, 77, 75, 76, 73, 71, 76, 75, 73, 72, 74, 76)
method_C <- c(85, 88, 82, 84, 90, 86, 87, 83, 85, 88, 86, 84, 83, 87, 89)




```

3. 결론 도출
- F통계량과 p-value 확인
- 사후검정 결과 해석
- 가정 검토 (정규성, 등분산성)
- 최종 결론 도출

## 3️⃣ 연습문제

<details>
<summary><b>🎯 문제</b></summary>

세 가지 다른 운동 프로그램(X, Y, Z)의 효과를 비교하기 위해 각 프로그램별로 10명의 참가자를 대상으로 체중 감량(kg)을 측정했다.
유의수준 5%에서 세 프로그램 간에 차이가 있는지 검정하시오.

```
프로그램 X: 3.5, 4.2, 3.8, 4.0, 3.9, 4.1, 3.7, 4.3, 3.6, 4.0
프로그램 Y: 2.8, 3.1, 2.9, 3.0, 3.2, 2.7, 3.0, 2.8, 3.1, 2.9
프로그램 Z: 4.5, 4.8, 4.6, 4.7, 4.9, 4.5, 4.8, 4.6, 4.7, 4.4
```

1) 가설을 설정하시오
2) R코드로 분석하시오
3) 결론을 도출하시오
</details>

<details>
<summary><b>✍️ 정답</b></summary>

```r
# 데이터 준비 및 분석
program_X <- c(3.5, 4.2, 3.8, 4.0, 3.9, 4.1, 3.7, 4.3, 3.6, 4.0)
program_Y <- c(2.8, 3.1, 2.9, 3.0, 3.2, 2.7, 3.0, 2.8, 3.1, 2.9)
program_Z <- c(4.5, 4.8, 4.6, 4.7, 4.9, 4.5, 4.8, 4.6, 4.7, 4.4)



```

</details>

> 💡 **핵심 포인트**
> - ANOVA는 세 개 이상 집단의 평균을 동시에 비교합니다
> - 기본 가정(독립성, 정규성, 등분산성)을 반드시 확인해야 합니다
> - 유의한 차이가 있을 경우 사후검정이 필요합니다
> - R의 aov() 함수로 쉽게 분석할 수 있습니다
> - 시각화를 통해 집단 간 차이를 효과적으로 표현할 수 있습니다
